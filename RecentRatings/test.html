---
title: Recently Rated Films
layout: circularstackedbarplot
---
  
  <div class="container-fluid">
    
  <style>
    .col {margin-top:25px;}
    .img {
      display: block;
      object-fit: contain;
      width:300px;
      height:400px;
    }
  </style>
  <script type="text/javascript"charset="utf-8">
  var tabulate = function (data,columns) {
    var carddeck = d3.select('#cards')
    
    var cards = carddeck.selectAll('.card')
      .data(data)
      .enter()
      .append('div')
      .classed('col', true)
      .append('div')
      .classed('card', true)
      .style("width","300px")
      .html(function (d) { 
          return "<img class=\"card-img-top img\" src=\"" + d.Poster + "\">"
      })    
    
    var cardtext = cards
      .append('div')
      .classed('card-body', true)
    
    var info = cardtext
      .selectAll('p')    
      .data(function(row) {
        return columns.map(function (column) {
          return { column: column, value: row[column], link: row["IMDBid"], release: row["Released"]}
        })
      })
      .enter()
      .append('p')
      .classed('card-text', true)
      .html(function (d) { 
        if (d.column === "ItemTitle") {
          return "<a href=\"https://www.imdb.com/title/" + d.link + "\">" + d.value + "</a>" + " (" + d.release + ")"
        }
        else {return d.value}})
    
    var footer = cards
      .append('div')
      .classed('card-footer', true)
      .append('small')
      .classed('text-muted', true)
      .html(function (d) { 
          return "<small class=\"text\">" + d["Rated.Date"] + "</small>"}) 
    
    return carddeck;
  }

d3.csv('https://jacobmgreer.github.io/Film-Tracker/RecentRatings/recentmovies.csv',function (data) {
  var data = data.filter(element => element.Title != "NA")
  var columns = ['ItemTitle','Rating','Internet Movie Database','Metacritic','Rotten Tomatoes']
  tabulate(data,columns)
})
</script>
  
  <h1 class="display-5">Recently Rated Films</h1>
  <div id="cards" class="row row-cols-1 row-cols-md-3 g-4"></div>
  <br clear="all"/><br/>
    
  </div>